<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="Icon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>test-site</title>
</head>
<body id="body">

    <div id="upperUI">
        <div id="user">
            <div id="Username">no name</div>
            <div id="Level">Lv:#ERROR!</div>
            <div id="Euro">0€</div>
        </div>
        <div id="expbar">
            <div id="exp"></div>
            <div id="exptext">0/NaN</div>
        </div>
        <div id="login-button">login</div>
        <div id="menuToggle">☰</div>
    </div>
    <nav id="sideMenu">
        <hr noshade="true">
        <ul>
            <li><input type="checkbox" data-name="links" class="toggles" checked>Links</li>
            <li><input type="checkbox" data-name="memos" class="toggles" checked>Memos</li>
            <li><input type="checkbox" data-name="iframes" class="toggles" checked>Iframes</li>
        </ul>
        <hr noshade="true">
        <ul>
        <li>
            <select id="font-select" onchange="changeFont()">
                <option value="comicsans">comicsans</option>
                <option value="papyrus">papyrus</option>
                <option value="Hangyaku">Hangyaku</option>
                <option value="cube12">cube12</option>
                <option value="genjuu">genjuu</option>
                <option value="hackgen">hackgen</option>
                <option class="wd" value="webdings">webdings</option>
                <option class="wd" value="wingdings">wingdings</option>
                <option class="wd" value="wingdings2">wingdings2</option>
                <option class="wd" value="wingdings3">wingdings3</option>
            </select>
        </li>
        </ul>
        <hr noshade="true">
        <ul>
            <li><a href="https://koppepan-orange.github.io/game-site/welcome.html">to game</a></li>
            <li><a href="tools.html">to tools</a></li>
            <li><a href="books.html">to books</a></li>
            <li><a href="hidden.html">to hidden</a></li>
            <li class="wd"><a href="home-ura.html">to ura</a></li>
        </ul>
        <hr noshade="true">
        <ul>
            <li class="hastxt" data-name="chara+">chara+</li>
            <li class="hastxt" data-name="enemies+">enemies+</li>
        </ul>
        <hr noshade="true">
        <ul>
            <li><span id="logout">Logout</span></li>
            <li><span id="wdcheck">HELLO</spanid></li>
        </ul>
        <hr noshade="true">
        <div class="yurayura-x">ゆらら</div>
    </nav>

    <div class="smart-menu">
        <div class="smart-icon hidden" id="notice-button" data-name="notice-icon">V</div>
        <div class="smart-icon hidden" id="login-bonus" data-name="daily-icon">e</div>
        <div class="smart-icon c-dimension hidden" data-name="home-icon" data-doko="Home">H</div>
        <div class="smart-icon c-dimension hidden" data-name="commu-icon" data-doko="Commu">^</div>
        <div class="smart-icon c-dimension hidden" data-name="anonymous-icon" data-doko="Anonymous">A</div>
        <div class="smart-icon c-dimension hidden" data-name="study-icon" data-doko="Study">S</div>
        <div class="smart-icon c-dimension hidden" data-name="pixelen-icon" data-doko="Pixelen">P</div>
        <div class="smart-icon smart-phone">:</div>
    </div>

    <div id="notice">
        <div class="x">x</div>

        <div class="list">

        </div>

        <div class="show">
            <div class="back">←</div>
            <div class="title"></div>
            <div class="body"></div>
        </div>
    </div>

    <div id="login">
        <div id="login-form">
            <input type="text" id="username" placeholder="username">
            <input type="password" id="password" placeholder="password">
            <button id="login-login">Login</button>
        </div>
    </div>

    <div id="cpopup"></div>
    <iframe id="iframe"></iframe>
    <div id="movableDescription"></div>

    <div id="Home">
        <div id="home">
            <div id="links"></div>
            <div id="memos"></div>
            <div id="iframes"><span align="center">調べれたりするところ</span>
                <details id="linkSite"><summary>link site</summary>
                    <input type="text" id="LinkInput" placeholder="write link here" value="about:blank">
                    <button class="iframe-button" onclick="LinkframeGo()">Go</button>
                    <select id="LinkSelect" class="iframe-button">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                    <button class="iframe-button iframe-full">full</button><br>
                    <iframe id="Linkframe1" width="100%" height="800" src="about:blank" data-src="about:blank"></iframe>
                    <iframe id="Linkframe2" width="100%" height="800" src="about:blank" data-src="about:blank"></iframe>
                    <iframe id="Linkframe3" width="100%" height="800" src="about:blank" data-src="about:blank"></iframe>
                    <iframe id="Linkframe4" width="100%" height="800" src="about:blank" data-src="about:blank"></iframe>
                </details>
            </div>
        </div>

        <div id="memo">
            <div class="row">
                <div type="text" class="title" contenteditable></div>
                <button class="search">search</button>
            </div>
            <div class="text" contenteditable></div>
        </div>

        <div id="tools">
            <!-- こちら偏差値計算機です！！！！ -->
            <p align="center">偏差値計算機<br>
                <input id="HENPoint" type="text" placeholder="write 得点" size="20" style="width:80px;"></input>　
                <input id="HENAve" type="text" placeholder="write 平均" size="20" style="width:80px;"><br>   
                <button onclick="HENsum()">go</button>
                <br><span id="HENAnswer"></span>
            </p>
            <p align="center">
            <input type="text" id="Input" size="3" maxlength="2" placeholder="num"><button id="ToggleButton" onclick="Toggle()">less</button><button onclick="Activate()">Go!</button><br>
            <span id="OutPut"></span>
            </p>
            <!-- まりぱのげーむをちょっとだけいれようかな〜と -->
            <details style="margin:0 auto;"><summary>Game-Center</summary>
            <p align="center">Count Game Desu
                <br><span id="COUNTGameBar"></span>
                <br><br><span id="COUNTButton"><button onclick="COUNTGameStart()">start</button></span>
                <br><br><span id="COUNTLog"></span>
            </p>
            <p align="center">Race Game(Just Look)
                <div id="RACEoutput-one"></div>
                <div id="RACEoutput-two"></div>
                <div id="RACEoutput-three"></div>
                <div id="RACEoutput-four"></div>
                <span id="RACElog"></span>
                <br><button onclick="RACEgamestart()">はじめます</button>
            </p>
            <p align="center">Renda Game Desu<br>
                <button id="start-btn">スタート</button>
                <div id="result"></div>
                <button id="RENDABUTTON1000" onclick="RENDAchange(1000)">1s</button><button id="RENDABUTTON3000" onclick="RENDAchange(3000)">3s</button><button id="RENDABUTTON5000" onclick="RENDAchange(5000)" style="color:#23aa23;">5s</button><button id="RENDABUTTON10000" onclick="RENDAchange(10000)">10s</button><button id="RENDABUTTON30000" onclick="RENDAchange(30000)">30s</button>
            </p>
            <p align="center">Cooking Game<br>
                <button id="CookingGameStart" onclick="Start()">start</button><br>
                <div id="CookingGameArea">
                <div id="CookingGameList"></div>
                <button id="CookingGameChoose-1" onclick="CookingGameChoeese('1')">1</button>
                <button id="CookingGameChoose-2" onclick="CookingGameChoeese('2')">2</button>
                <button id="CookingGameChoose-3" onclick="CookingGameChoeese('3')">3</button>
                <button id="CookingGameChoose-4" onclick="CookingGameChoeese('4')">4</button>
                <button id="CookingGameChoose-5" onclick="CookingGameChoeese('5')">5</button>
                <button id="CookingGameChoose-6" onclick="CookingGameChoeese('6')">6</button><br>
                <span id="CookingGameLog">logやで</span>
                </div>
            </p>
            </details>

            <div class="meiboToggle"></div>
            <div class="meibo">
                <div class="list"></div>
            </div>
        </div>

        <div id="profile">
            <img class="icon" src="assets/sozais/none.png" alt="アイコン" width="150" height="150">
            <input type="file" class="fileInput" accept="image/*">
        </div>
        
    </div>

    <div id="Commu">
        <div id="nanj">
            <select id="room-select" name="room-select" onchange="selectRoom()">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="Anonymous-1">Anonymous-1</option>
                <option value="Anonymous-2">Anonymous-2</option>
                <option value="Anonymous-3">Anonymous-3</option>
            </select>
    
            <div id="messages"></div>
    
            <div id="additional-zone">
                <div class="hover-element">
                    <div class="popup">
                        <button onclick="sendStamp(1)">OK</button> <button onclick="sendStamp(2)">最高か</button> <button onclick="sendStamp(3)">ぴえん</button> <button onclick="sendStamp(4)">わりどう</button><br>
                        <button onclick="sendStamp(5)">ごめん</button> <button onclick="sendStamp(6)">無事終了</button> <button onclick="sendStamp(7)">LOVE</button> <button onclick="sendStamp(8)">SORENA</button><br>
                        <button onclick="sendStamp('hownice')">いいね</button> <button onclick="sendStamp('koresuki')">これすき</button> <button onclick="sendStamp('ohitasi')">おひたし</button> <button onclick="sendStamp('spacecat')">宇宙猫</button><br>
                        <button onclick="sendStamp('youaresick')">病気ね</button> <button onclick="sendStamp('nasanao')">なさなお</button> <button onclick="sendStamp('4coma1')">外人4コマ-high</button> <button onclick="sendStamp('4coma2')">外人4コマ-low</button><br>
                        <button onclick="sendStamp('maxwell1')">maxwell-hop</button> <button onclick="sendStamp('maxwell2')">maxwell-spin</button> <button onclick="sendStamp('hello')">こにちゃ</button> <button onclick="sendStamp('gdng')">おやすみ</button><br>
                    </div>
                    囧
                </div>
            </div>

            <input type="textarea" id="message-input" placeholder="メッセージを書く">
            <button id="send-button">送信</button>
        </div>

        <div id="twitter2">
            <div id="tweets"></div>
            <button id="t-make-button">✎</button>
            <div id="t-make-zone">
                <div id="t-make-header">
                    <div id="t-make-cancel">キャンセル</div>
                    <div id="t-make-send">完了</div>
                </div>
                <div id="t-make-body">
                    <div id="t-make-text" contenteditable></div>
                </div>
            </div>
        </div>

        <div id="jine">
        </div>
    </div>

    <div id="Anonymous">
        <div id="question">
        </div>
    </div>

    <div id="Study">
        <div id="en">
            <div id="search-area" contenteditable></div>
            <div id="search-narrow">
                <div id="narrow-options"></div>
                <button id="narrow-apply">絞り込む</button>
            </div>
            <div id="search-result"></div>

            <button id="post-make-button">✎</button>
            <div id="post-area">
                <div id="post-header">
                    <div id="post-cancel">リセット</div>
                    <div id="post-send">送信</div>
                </div>
                <div id="post-body">
                    <div id="post-en">
                        <span>en <font color="#bebebe">例:apple</font></span>
                        <textarea></textarea>
                    </div>
                    <div id="post-ja" >
                        <span>ja <font color="#bebebe">例:りんご</font></span>
                        <textarea></textarea>
                    </div>
                    <div id="post-speech">
                        <span>speech <font color="#bebebe">例:名詞</font></span>
                        <textarea></textarea>
                    </div>
                    <div id="post-attribute">
                        <span>attribute <font color="#bebebe">例:food fruit</font></span>
                        <textarea></textarea>
                    </div>
                    <div id="post-description">
                        <span>description <font color="#bebebe">例:何よりも美味しい果物。</font></span>
                        <textarea></textarea>
                    </div>
                    <div id="post-checkboxes">
                        <label class="checkbox-label">
                            <input type="checkbox" id="post-slang">
                            <span>スラング</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="post-sentence">
                            <span>文</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div id="tips">
        </div>
    </div>

    <div id="Pixelen">
        <div id="books">
            <div id="search-zone">
                <div id="search-area" contenteditable></div>
                <div id="search-narrow">
                    <div id="narrow-options"></div>
                    <button id="narrow-apply">絞り込む</button>
                </div>
                <div id="search-result"></div>
            </div>

            <div id="show-area">
                <div class="back">←</div>
                <div class="title"></div>
                <div class="description"></div>
                <div class="body"></div>
            </div>

            <button id="post-make-button">✎</button>
            <div id="post-area">
                <div id="post-header">
                    <div id="post-cancel">リセット</div>
                    <div id="post-send">送信</div>
                </div>
                <div id="post-body">
                    <div id="post-title">
                        <span>title <font color="#bebebe">例:転生したら最弱の水魔法使いだったのでとりあえず極めてみようと思います</font></span>
                        <textarea></textarea>
                    </div>  
                    <div id="post-description">
                        <span>description <font color="#bebebe">例:とりあえず流行りに乗ってみたやつです 水が一番強いんですよ</font></span>
                        <textarea></textarea>
                    </div>
                    <div id="post-attribute">
                        <span>attribute <font color="#bebebe">例:なろう系 魔法 ファンタジー</font></span>
                        <textarea></textarea>
                    </div>
                    <div id="post-checkboxes">
                        <label class="checkbox-label">
                            <input type="checkbox" id="post-usedAI">
                            <span>AI使用</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="post-yokunai">
                            <span>よくない</span>
                        </label>
                    </div>
                    <div id="post-bodies">
                        <span>body <font color="#bebebe">目が覚めた。記憶がない。昨日飲みすぎたか？などと考えながら起き上がる。</font></span>
                        <textarea></textarea>
                    </div>

                    (この例の話は書いてないので作ってもらえると喜びます)
                </div>
            </div>

        </div>
    </div>


    <div id="tabs"></div>
    <script>
        //#region komagome
        function delay(ms){
            return new Promise(resolve=>setTimeout(resolve,ms));
        };
        async function nicoText(mes){
            const newDiv = document.createElement('div');
            newDiv.textContent = mes;
            newDiv.className = 'nicotext';
            newDiv.style.top = `calc(${random(0, 100)}vh - 20px)`;
            newDiv.style.right = '0px';
            document.querySelector('body').appendChild(newDiv);

            requestAnimationFrame(() => {
            newDiv.style.right = `${window.innerWidth + newDiv.offsetWidth}px`; //なんか電車の問題解いてるみたいだね
            });
            
            await delay(2000); 
            newDiv.remove();
        };
        function kaijou(num){
            if(num == 0) return 0;
            if(num == 1) return 1;
            return num * kaijou(num - 1);
        }
        function arraySelect(array){
            let select = Math.floor(Math.random()*array.length);
            return array[select];
        };
        function arrayShuffle(array) {
            for(let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        };
        function arraySize(array){
            let res = new Set(array).size;
            return res;
        };
        function arrayCount(array){
            const counts = {};
            for (let value of array) {
            counts[value] = (counts[value] || 0) + 1;
            }
            return counts;
        }
        function arrayMult(array){
            return array.reduce((a, v) => a * v, 1);
        }
        function arrayGacha(array,probability){
            if(array.length !== probability.length){throw new Error("長さがあってないっす！先輩、ちゃんとチェックした方がいいっすよ〜？");}
            const total = probability.reduce((sum, p) => sum + p, 0);
            let random = Math.random() * total;
            for (let i = 0; i < array.length; i++) {
            if(random < probability[i]){
            return array[i];
            }
            random -= probability[i];
            }
        };
        function hask(obj, key){
        let res = obj.hasOwnProperty(key);
        res = res ? 1 : 0;
        return res;
        }
        function copy(obj){
            if (obj === null || typeof obj !== 'object') {
            return obj; // 基本型はそのまま返す
            }
            if (Array.isArray(obj)) {
            return obj.map(copy); // 配列の各要素を再帰コピー
            }
            const result = {};
            for (const key in obj) {
            if (obj.hasOwnProperty(key)) {
                result[key] = copy(obj[key]); // オブジェクトのプロパティを再帰コピー
            }
            }
            return result;
        };
        function probability(num){
            return Math.random()*100 <= num;
            //例:num == 20 → randomが20以内ならtrue,elseならfalseを返す
        };
        function random(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        };

        function anagramSaySay(text, loop = 10, bet = '<br>'){
            let menjo = 0;
            let len = text.length;
            if(len < 4) menjo = 1, console.log('長さが3以下なんで最大6っす');
            
            let optout = text.split('');
            let optcou = arrayCount(optout);
            let optvals = [];
            for(a of Object.keys(optcou)){
            let b = optcou[a];
            b = kaijou(b);
            optvals.push(b);
            }
            let optmat = arrayMult(optvals);
            let cal = (kaijou(len) / optmat) - 1;

            let loopen = loop;
            console.log(`総数:${cal} 回数:${loopen}`);
            if(cal < loopen) menjo = 1;
            
            let reses = [];
            while(loopen > 0){
            loopen -= 1;
            let res = arrayShuffle(optout).join(''); 
            if(reses.includes(res)){loopen += 1; continue}
            
            if(res == text && !menjo){loopen += 1; continue;}

            if(res == text && menjo && reses.length < cal){loopen += 1; continue}
            else if(res == text && menjo) res = '[重複エラー]';

            reses.push(res);
            }
            
            return reses.join(bet);
        }
        function setLocalStorage(name, value) {
            localStorage.setItem(name, value || "");
        }
        function getLocalStorage(name) {
            return localStorage.getItem(name);
        }
        async function error(){
            addtext('errrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr')
            await delay(2000);
            window.open('about:blank', '_self').close();
        }
        function hoshoku(color) {
            color = color.replace(/^#/, ''); // #付きなら取る

            if(color.length != 6) return console.log('カラーコードは6、ですよ〜？楽しないでくださいね〜♪')

            // RGB分解
            const r = parseInt(color.slice(0, 2), 16);
            const g = parseInt(color.slice(2, 4), 16);
            const b = parseInt(color.slice(4, 6), 16);

            // 補色：255から引く
            const compR = (255 - r).toString(16).padStart(2, '0');
            const compG = (255 - g).toString(16).padStart(2, '0');
            const compB = (255 - b).toString(16).padStart(2, '0');

            return `#${compR}${compG}${compB}`;
        }
        //#endregion

        function displayLocalStorage() {
            const itemCount = localStorage.length;
            for (let i = 0; i < itemCount; i++) {
                const key = localStorage.key(i); // キーを取得
                const value = localStorage.getItem(key); // 値を取得
                nicoText(`キー: ${key}, 値: ${value}`);
            }
        }

        function removeLocalStorage(name){
            localStorage.removeItem(name);
        }


        document.addEventListener("paste", event => {
            event.preventDefault(); // デフォルトのペーストを防ぐ
            let text = (event.clipboardData || window.clipboardData).getData("Text"); // プレーンテキスト取得
            document.execCommand("insertText", false, text); // プレーンテキストを挿入
        });

        function formatDate(date){ //見る用
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            return `${year}/${month}/${day} ${hours}:${minutes}`;
        }
        function formatTime(date){ //データ保存用
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            const time = `${year}${month}${day}${hours}${minutes}`;
            return +time;
        }

        document.querySelectorAll('.hasp').forEach(ele => {
            ele.classList.add('showp');
            ele.addEventListener('focus', () => ele.classList.remove('showp'));
            ele.addEventListener('blur', () => {
                if (!ele.textContent.trim()) {
                    ele.classList.add('showp');
                }
            });
        })

        //#endregion

        //#region description
let movableDescription = document.getElementById('movableDescription');
document.addEventListener('mousemove', (e) => {
    movableDescription.style.left = `${e.clientX + 10}px`;
    movableDescription.style.top = `${e.clientY + 10}px`;
});
document.addEventListener('mouseover', (e) => {
    const descTarget = e.target.closest('[data-description]');
    if (descTarget) {
        const desc = descTarget.dataset.description;
        movableDescription.innerHTML = desc;
        movableDescription.style.display = 'block';
    }
});
document.addEventListener('mouseout', (e) => {
    const descTarget = e.target.closest('[data-description]');
    if (descTarget) {
        movableDescription.innerHTML = '';
        movableDescription.style.display = 'none';
    }
});
//#endregion

        let doko = 'Home'


        

    </script>
    <script src="jses/data.js" defer></script>
    <script src="jses/pipette.js" defer></script>
    <script src="jses/home.js" defer></script>
    <script src="jses/commu.js" defer></script>
    <script src="jses/anonymous.js" defer></script>
    <script src="jses/study.js" defer></script>
    <script src="jses/pixelen.js" defer></script>
    

</body>
</html>

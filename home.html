<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="Icon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <title>test-site</title>
    <style>
        @font-face{font-family:comicsans;src:url('assets/comicsans.ttf');}
        @font-face{font-family:Hangyaku;src:url('assets/Hangyaku.ttf');}
        @font-face{font-family:cube12;src:url('assets/cube12.ttf');}
        @font-face{font-family:genjuu;src:url('assets/genjuu.ttf');}
        @font-face{font-family:wingdings;src:url('assets/wingdings.ttf');}
        @font-face{font-family:wingdings2;src:url('assets/wingdings2.ttf');}
        @font-face{font-family:wingdings3;src:url('assets/wingdings3.ttf');}
        @font-face{font-family:webdings;src:url('assets/webdings.ttf');}
        @font-face{font-family:kaimetsu;src:url('assets/kaimetsu.otf');}

        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-color: #def0ff;
            border: 2px solid #cfe9ff;
        }

        option {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-color: #def0ff;
            color: #000000;
        }

        html{
            width: 100%;
        }
        #body{
            font-family:comicsans;
            background-color: #f0f8ff;
            margin: 0px!important;
            width: 100%;
            max-width: 100%;
            overflow-x: hidden;
            overflow-y: scroll;
        }

        #description {
            display: none;
            position: fixed;
            pointer-events: none;
            background-color: rgba(90, 90, 90, 0.9);
            color: rgb(255, 255, 255);
            padding: 5px 10px;
            border-radius: 5px;
            z-index: 1000;
        }

        /*ã“ã£ã‹ã‚‰upperUI*/
        #upperUI{
            display: block;
            border-bottom: 3px solid #cfe9ff;
            background-color: #def0ff;
            position: relative;
            top: 0;
            left: 0;
            width: 100%;
            height: 6vh;
            padding: 10px;
            z-index: 997;
        }
        #menuToggle{
            display: block;
            position: absolute;
            right:40px;
            top: 50%;
            transform: translateY(-50%);
            font-size:40px;
            cursor: pointer;
            z-index: 998;
        }
        #login-button{
            display: block;
            position: absolute;
            right: 100px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            padding: 3px;
            border: 2px solid #cfe9ff;
            cursor: pointer;
            z-index: 998;
        }
        #expbar{
            display: none;
            position: absolute;
            width: 50%;
            height: 30px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 998;
            background-color: #4473ad;
            text-align: center;
        }
        #exp{
            position: absolute;
            width:0%;
            height: 24px;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            background-color: #365172;
            z-index: 999;
            display: inline-block;
            vertical-align: middle;
        }
        #exptext{
            position:absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            font-size: 20px;
            color: #f0f8ff;
            display: inline-block;
            vertical-align: middle;
            z-index: 1000;
        }

        /*ã“ã£ã‹ã‚‰sideMenu*/
        #sideMenu {
            position: fixed;
            top: 0;
            left: -255px;
            width: 250px;
            height: 100%;
            color: #333344;
            background-color: #def0ff!important;
            border-right: 3px solid #cfe9ff;
            transition: left 0.3s;
            padding-left: 5px;
            z-index:999;
        };
        hr{
            background-color: #cfe9ff;
            border: 2px solid #cfe9ff;
        }
        #sideMenu ul {
            list-style: none;
            padding: 0;
            margin: 0;
            background-color: #def0ff;
        };
        #sideMenu ul li {
            padding: 3px;
        };
        #sideMenu ul li a {
            color: #000000;
            text-decoration: none;
        };
        #sideMenu ul li select{
            background-color: #def0ff;
            border: 1px solid #cfe9ff;
        }
        #sideMenu button {
            background-color: #def0ff;
            border: none;
            color: #000000;
            cursor: pointer;
            text-decoration: none;
            padding: 0;
        }

        #cpopup{
            display: none;
            position: fixed;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            max-height: 600px;
            background-color: #eeeeee;
            color:#2b2b2b;
            border: 2px solid #b2b2b2;
            z-index: 999;
            overflow: auto;
        }
        #cpopup ul{
            background-color: #eeeeee;
        }
        #cpopup ul li{
            background-color: #eeeeee;
        }

        #iframe{
            display: none;
            width: 70%;
            height: 80%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            border: 2px solid #ffbb00;
            border-radius: 5px;
            background-color: #f0f8ff;
            overflow: scroll;
            padding:2px;
        }
        #Linkframe2,#Linkframe3,#Linkframe4{
            display: none;
        }
        .iframe-button{
            width: 30px;
            height: 20px;
            border: 1px solid #b2b2b2;
            background-color: #e5ecf2;
            text-align: center;
            appearance: none;
        }

        .toggle{
            width:50px;
            height:20px;
            border: 1px solid #b2b2b2;
            background-color: #e5ecf2;
        }

        .wd{
            display: none;
        }
        #wdcheck{
            cursor: pointer;
            font-size:4px;
            font-family: wingdings!important;
            background-color: #cecece;
        }
        #wdtextarea{
            font-family: wingdings;
        }

        /*ãƒ­ã‚°ã‚¤ãƒ³ã®ã‚„ã¤*/
        #login{
            display: block;
            width: 75%;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: #def0ff;
            border: 1px solid #b5dcff;
            border-radius: 5px;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.5s ease; 
            z-index: 1234;
        }
        #login input {
            width: calc(100% - 20px);
            margin-bottom: 10px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #b5dcff;
        }
        #login button {
            width: 100%;
            padding: 10px;
            background-color: #cfe9ff;
            border: 2px solid #b5dcff;
            color: #000000;
            font-size: 16px;
            cursor: pointer;
        }
        #login button:hover {
            background-color: #cfe9ff;
        }

        /*ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚„ã¤ å®Ÿè£…ã¯æœªå®š*/
        #tabs{
            display: block;
            font-size: 35px;
            justify-content: space-between;
            padding: 10px 0;
            background-color: #def0ff;
            position: fixed;
            left:0;
            right:0;
            bottom:0px;
            z-index: 998;
        }
        .tab{
            cursor: pointer;
        }
        #home-tab{
            font-family: webdings;
        }

        /*ã“ã£ã‹ã‚‰home*/
        #home{
            display: block;
            width:100%;
            height: 90vh;
            background-color: #f0f8ff;
            padding-top: 10px;
        }

        #links{
            margin-top: 10px;
            max-height: 300px;
            overflow-y: scroll;
            overflow-x: hidden;
            border: 2px solid #cfecff;
            background-color: #f0f8ff;
            margin-bottom: 20px;
        }

        #memos{
            max-height: 400px;
            overflow-y: scroll;
            overflow-x: hidden;
            border: 2px solid #cfecff;
            background-color: #f0f8ff;
            padding: 15px;
            margin-bottom: 20px;
        }
        .memo{
            width: 400px;
            border: 2px solid #cfe9ff;
            background-color: #f0f8ff;
            margin-bottom: 25px;
            position: relative;
        }
        .m-title{
            width: 400px;
            height: 23px;
            resize: horizontal;
            border-bottom: 2px solid #cfe9ff;
        }
        .m-text{
            width: 400px;
            height: 160px;
            resize: both;
        }
        .m-delete{
            position: absolute;
            top: 1.3px;
            right: 0px;
            cursor: pointer;
            font-family: wingdings; 
            border: 1px solid #cfe9ff;
        }
        .m-delete:hover{
            color: red;
        }
        .m-add{
            width: 400px;
            height: 23px;
            cursor: pointer;
            font-size: 22px;
            text-align: center;
            border: 2px solid #cfe9ff;
        }

        #iframes{
            max-height: 1200px;
            overflow-y: scroll;
            overflow-x: hidden;
            border: 2px solid #cfe9ff;
            margin-bottom: 20px;
        }
        .iframe-frame{
            width: 100%;
            height: 100vh;
            border: 2px solid #cfe9ff;
        }
    </style>
</head>
<body id="body">

    <div id="upperUI">
        <div id="user">
            <div id="Username">no name</div>
            <div id="Level">Lv:#ERROR!</div>
        </div>
        <div id="expbar">
            <div id="exp"></div>
            <div id="exptext">0/NaN</div>
        </div>
        <div id="login-button">login</div>
        
        <div id="menuToggle">â˜°</div>
    </div>
    <nav id="sideMenu">
        <hr noshade="true">
        <ul>
            <li><input type="checkbox" data-name="links" class="toggles" checked>Links</li>
            <li><input type="checkbox" data-name="memos" class="toggles" checked>Memos</li>
            <li><input type="checkbox" data-name="iframes" class="toggles" checked>Iframes</li>
        </ul>
        <hr noshade="true">
        <ul>
        <li>
            <select id="font-select" onchange="changeFont()">
                <option value="comicsans">comicsans</option>
                <option value="Hangyaku">Hangyaku</option>
                <option value="cube12">cube12</option>
                <option class="wd" value="wingdings">wingdings</option>
            </select>
        </li>
        </ul>
        <hr noshade="true">
        <ul>
            <li><a href="home.html">to home</a></li>
            <li><a href="memo.html">to memo</a></li>
            <li><a href="https://koppepan-orange.github.io/game-site/welcome.html">to game</a></li>
            <li><a href="tools.html">to tools</a></li>
            <li><a href="books.html">to books</a></li>
            <li><a href="hidden.html">to hidden</a></li>
            <li><a href="question.html">to question</a></li>
            <li><a href="en.html">to english-party</a></li>
            <li class="wd"><a href="home-ura.html">to ura</a></li>
        </ul>
        <hr noshade="true">
        <ul>
            <li class="hastxt" data-name="chara+">chara+</li>
            <li class="hastxt" data-name="enemies+">enemies+</li>
        </ul>
        <hr noshade="true">
        <ul>
            <li><span id="wdcheck">HELLO</spanid></li>
        </ul>
    </nav>

    <div id="login">
        <div id="login-form">
            <input type="text" id="username" placeholder="username">
            <input type="password" id="password" placeholder="password">
            <button id="login-login">Login</button>
        </div>
    </div>

    <div id="cpopup"></div>
    <iframe id="iframe"></iframe>
    <div id="description"></div>

    <div id="home">
        <div id="links"></div>
        <div id="memos"></div>
        <div id="iframes"><span align="center">èª¿ã¹ã‚ŒãŸã‚Šã™ã‚‹ã¨ã“ã‚</span>
            <details><summary>link site</summary>
                <input type="text" id="LinkInput" placeholder="write link here">
                <button class="iframe-button" onclick="LinkframeGo()">Go</button>
                <select id="LinkSelect" class="iframe-button">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
                <button class="iframe-button">full</button><br>
                <iframe id="Linkframe1" width="100%" height="800" src="about:blank" data-src="about:blank"></iframe>
                <iframe id="Linkframe2" width="100%" height="800" src="about:blank" data-src="about:blank"></iframe>
                <iframe id="Linkframe3" width="100%" height="800" src="about:blank" data-src="about:blank"></iframe>
                <iframe id="Linkframe4" width="100%" height="800" src="about:blank" data-src="about:blank"></iframe>
            </details>
        </div>
    </div>

    <div id="tabs">
        <div id="home-tab" class="tab">H</div>
    </div>

    <script>
        //#region æ‰±ã„ã‚„ã™ã„å­é”
        function delay(ms){return new Promise(resolve=>setTimeout(resolve,ms));}
        async function NicoNicoText(mes){
            const newDiv = document.createElement('div');
            newDiv.textContent = mes;
            newDiv.style = `
            position: absolute;
            top: ${Math.random()*100}vh;
            right: 0;
            background-color: rgba(228, 249, 255, 0.563);
            color: #000000;
            font-size: 20px;
            `
            document.getElementById('body').appendChild(newDiv);
            //let speed = Math.random()*100+1;
            let speed = mes.toString().length*2 
            for(let i = 0; window.innerWidth > i*speed; i++){
                let val = i*speed;
                newDiv.style.right = `${val}px`
                await delay(50);
            }
            newDiv.remove();
        }

        function displayLocalStorage() {
            const itemCount = localStorage.length;
            for (let i = 0; i < itemCount; i++) {
                const key = localStorage.key(i); // ã‚­ãƒ¼ã‚’å–å¾—
                const value = localStorage.getItem(key); // å€¤ã‚’å–å¾—
                NicoNicoText(`ã‚­ãƒ¼: ${key}, å€¤: ${value}`);
            }
        }

        function setLocalStorage(name, value){
            localStorage.setItem(name, value || ""); // å€¤ãŒç©ºãªã‚‰ç©ºæ–‡å­—ã‚’å…¥ã‚Œã‚‹
        }
        function getLocalStorage(name){
            return localStorage.getItem(name);
        }
        
        document.addEventListener('mousemove', (e) => {
        const HasDescription = document.getElementById('description');
        HasDescription.style.left = `${e.clientX + 10}px`;
        HasDescription.style.top = `${e.clientY + 10}px`;
        });

        document.addEventListener('mouseover', (e) => {
        if(e.target.classList.contains('hasd')){
        const description = e.target.dataset.description;
        document.getElementById('description').innerHTML = description;
        document.getElementById('description').style.display = 'block';
        }
        });
        document.addEventListener('mouseout', (e) => {
        if(e.target.classList.contains('hasd')){
        document.getElementById('description').innerHTML = '';
        document.getElementById('description').style.display = 'none';
        }
        });
        //#endregion
        //#region ãƒªãƒ³ã‚¯ãŸã¡ã®å‹•ã
        const Links = {
        'memo':{
            'memosi': {
            id: 'memosi',
            name: 'memo-site',
            href: 'https://koppepan-orange.github.io/test-site/memo.html',
            iframable:1,
            description: 'ãƒ¡ãƒ¢ãŒã§ãã‚‹ã‚µã‚¤ãƒˆã€‚ã¾ã˜ã§æœ‰èƒ½<br>ãšã£ã¨é–‹ã„ã¦ãŸã»ã†ãŒæ¥½ã§è‰¯ã<br>ç§ã¯ã‚²ãƒ¼ãƒ åˆ¶ä½œã®æ¡ˆãƒ¡ãƒ¢ã«ã—ã¦ã¾ã™'
            },
            'files':{
            id: 'files',
            name: 'file-site',
            href: 'https://forest-inlet.github.io/tools/fileTransfer?forestinlet ',
            iframable:1,
            description: 'ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€å—ä¿¡ã§ãã‚‹ã‚µã‚¤ãƒˆã§ã™ï¼ï¼<br>ã¾ã˜ã§ã™ã”ã„ã¨æ€ã†<br>ã‚å‹é”ä½œã§ã™'
            },
            'browserMemo': {
            id: 'browserMemo',
            name: 'ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¡ãƒ¢å¸³',
            href: 'http://www.drpartners.jp/tools/browser-memocho.html',
            iframable: 1,
            description: 'ãƒ¡ãƒ¢ãŒã§ãã‚‹ã‚µã‚¤ãƒˆã€‚ä¿æœ‰é‡ãŒå¤§ãã„'
            },
            'memoWeb': {
            id: 'memoWeb',
            name: 'ãƒ¡ãƒ¢web',
            href: 'https://memo.onl.jp/?koppepan23',
            iframable:0,
            description: 'æ˜”ä½¿ã£ã¦ãŸã¨ã“ã‚ã€‚<br>ä»Šã¯memo.htmlä½¿ã£ã¦ã‚‹ã‘ã©ã­'
            },
            'fileWeb': {
            id: 'fileWeb',
            name: 'ãƒ•ã‚¡ã‚¤ãƒ«web',
            href: 'https://file.onl.jp/?koppepan23',
            iframable:0,
            description: 'ã“ã‚Œã¯æœ‰ç”¨ã¡ã‚ƒã‚“<br>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€å—ä¿¡ã§ãã‚‹<br>ãã®ã†ã¡ä½œã‚ŠãŸã„.....'
            },
            'writebox': {
            id: 'writebox',
            name: 'writebox',
            href: 'https://write-box.appspot.com/',
            iframable:0,
            description: 'ç°¡å˜ã«htmlã®ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚µã‚¤ãƒˆ<br>ã‘ã©jsã¨cssã¯ç„¡åŠ¹'
            },
        },
        'tool':{
            'tools': {
            id: 'tools',
            name: 'tool-site',
            href: 'https://koppepan-orange.github.io/test-site/tools.html',
            iframable:1,
            description: 'ã‚“ãƒ¼..ã‚ã‚“ã¾ã‚Šå®Ÿç”¨çš„ã˜ã‚ƒãªã„å­<br>éŠã³ç›®çš„ã€‚ã»ã¼<br>ã‘ã©åå·®å€¤ã¨ã‹ã‚‚æ¸¬ã‚Œã‚‹ã‚ˆ'
            },
            'books': {
            id: 'books',
            name: 'book-site',
            href: 'https://koppepan-orange.github.io/test-site/books.html',
            iframable:1,
            description: 'æœ¬ãŒèª­ã‚ã‚‹å­<br>ä½œè€…ã¯åŒ¿åãªã®ã§hiddenã«ã§ã‚‚é€ã£ã¦ãã‚ŒãŸã‚‰è¼‰ã›ã¾ã™ã‚ˆ'
            },
            'hidden': {
            id: 'hidden',
            name: 'hidden-site',
            href: 'https://koppepan-orange.github.io/test-site/hidden.html',
            iframable:1,
            description: 'åŒ¿åã§æŠ•ç¨¿ã§ãã‚‹ã‚µã‚¤ãƒˆï¼ï¼ï¼ï¼<br>ç®¡ç†è€…ã—ã‹è¦‹ã‚Œãªã„ã‚“ã§<br>å®šæœŸçš„ã«Eventã¯ç¢ºèªã—ã¦æ¬²ã—ã„ã­'
            },
            'dropbox': {
            id: 'dropbox',
            name: 'dropbox',
            href: 'https://www.dropbox.com/home',
            iframable:0,
            description: 'å˜ç´”ã«å„ªç§€ãªå­<br>ãƒ•ã‚¡ã‚¤ãƒ«Webã‚ˆã‚Šã‚‚æŒç¶šæ€§ãŒé«˜ã„<br>ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆ'
            },
            'anagram': {
            id: 'anagram',
            name: 'ã‚¢ãƒŠã‚°ãƒ©ãƒ ç”Ÿæˆæ©Ÿ',
            href: 'https://anagram.httqs.com/',
            iframable:1,
            description: 'ã‚¢ãƒŠã‚°ãƒ©ãƒ ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹å­<br>æ­¦å™¨ã¨ã‹ã®åå‰ã¯ã“ã„ã¤ã«é ¼ã£ã¦ã‚‚ã„ã„ã‹ã‚‚'
            },
            'roulette': {
            id: 'roulette',
            name: 'ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆç­‰ç”Ÿæˆæ©Ÿ',
            href: 'https://jp.piliapp.com/random/wheel/',
            iframable:1,
            description: 'åã®é€šã‚Šæ„Ÿã€‚<br>ä»–ã«ã‚‚ä¹±æ•°ã¨ã‹ã‚‚ã„ã‘ã‚‹<br>æš‡ã¤ã¶ã—ã§ãã‚‹ã‹ã‚‚ã­'
            },
            'colorSite': {
            id: 'colorSite',
            name: 'ã‚«ãƒ©ãƒ¼ã‚µã‚¤ãƒˆ',
            href: 'https://www.color-site.com/',
            iframable:1,
            description: 'è‰²ã®ç¨®é¡ã‚’èª¿ã¹ã‚Œã‚‹ã‚µã‚¤ãƒˆ<br>ã¾ã˜ã§å„ªç§€<br>rgbã«ã‚‚å¯¾å¿œ'
            },
            'mediaEdit': {
            id: 'mediaEdit',
            name: 'mp3ã€mp4ç·¨é›†ã‚µã‚¤ãƒˆ',
            href: 'https://123apps.com/ja/',
            iframable:1,
            description: 'å‹•ç”»â†’éŸ³ãŒã§ãã‚‹ã‚µã‚¤ãƒˆ<br>ã„ã¤ã‚‚æ„›ç”¨ã•ã›ã¦ã„ãŸã ã„ã¦ãŠã‚Šã¾ã™<br>ã‹ã‚“ã—ã‚ƒã€œ'
            },
        },
        'make':{
        'scratch': {
        id: 'scratch',
        name: 'scratch',
        href: 'https://scratch.mit.edu/users/koppepan_orange/',
        iframable:0,
        description: 'è¨€ã‚ãšã‚‚ãŒãª<br>å‰ã¯ã“ã“ã§ä½œã£ã¦ãŸ..ã£ã¦ã„ã†åæ®‹<br>ã§ã‚‚ã‚„ã£ã¦ã»ã—ã„'
        },
        'flat': {
        id: 'flat',
        name: 'flat',
        href: 'https://flat.io/ja',
        iframable:0,
        description: 'éŸ³æ¥½ãŒæ¯”è¼ƒçš„ç°¡å˜ã«ä½œã‚Œã‚‹ã‚µã‚¤ãƒˆ<br>ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆ'
        },
        'musescore': {
        id: 'musescore',
        name: 'musescore',
        href: 'https://musescore.com/user/41107809',
        iframable:0,
        description: 'æ¥½è­œã‚’èª¿ã¹ã‚Œã‚‹ã‚µã‚¤ãƒˆ<br>äººæ°—ãªæ›²ã¯ã‚ã‚ŠãŒã¡ã ã‘ã©<br>ãã‚“ãªãã‚“ãªãªæ›²ã¯ãªã„ã“ã¨ãŒå¤šã„'
        },
        'pixnote': {
        id: 'pixnote',
        name: 'pixnote',
        href: 'https://pixnote.net/',
        iframable:1,
        description: 'ç°¡å˜ã«ãƒ‰ãƒƒãƒˆçµµãŒæã‘ã‚‹ã‚µã‚¤ãƒˆ<br>ã¾ã˜ã§è‰¯ã„<br>ã»ã‚“ã¨ã«'
        },
        'pixlate': {
        id: 'pixlate',
        name: 'pixlate',
        href: 'https://www.pixilart.com/koppepanorange',
        iframable:0,
        description: 'ãƒ‰ãƒƒãƒˆçµµãŒæã‘ã‚‹ã‚µã‚¤ãƒˆ2<br>ã¡ã‚‡ã£ã¨è¤‡é›‘ã ã‘ã©è‡ªç”±åº¦ã¯é«˜ã‚'
        },
        'thirtyDollar': {
        id: 'thirtyDollar',
        name: 'thirty dollar',
        href: 'https://thirtydollar.website/',
        iframable:0,
        description: 'åŠ¹æœéŸ³ã§éŸ³æ¥½ã‚’ä½œã‚Œã‚‹ã‚µã‚¤ãƒˆ<br>internet overdoseã‚„ã£ã¦ã‚‹äººã‚‚ã„ãŸã­'
        },
        },
        'study':{
        'meibo': {
        id: 'meibo',
        name: 'meibo-site',
        href: 'https://true-koppepan-orange.github.io/sub_test-site/meibo_site',
        iframable:1,
        description: 'å­¦æ ¡ã®äººã®ä¸€è¦§ã‚’è¦‹ã‚Œã‚‹ã‚µã‚¤ãƒˆ<br>ãœã‚“ãƒ¼ãƒ¼ãƒ¼ãœã‚“ã„ãªã„ã®ã¯å†…ç·’ã®ãŠè©±'
        },
        'duolingo': {
        id: 'duolingo',
        name: 'duolingo',
        href: 'https://www.duolingo.com/profile/koppepan_orange',
        iframable:0,
        description: 'è¨€èªãŒå­¦ã¹ã‚‹ã‚µã‚¤ãƒˆ<br>ï¾ï½®ï½³ï¾•ï½°ï¾’ï½²!ï¾”ï¾Šï¾ï½µ'
        },
        'sushiDa': {
        id: 'sushiDa',
        name: 'å¯¿å¸æ‰“',
        href: 'http://typingx0.net/sushida/',
        iframable:0,
        description: 'ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ç«¶ã„ã®å®šç•ª<brç§ã¯è‹¦æ‰‹ã§ã™'
        },
        'ankey': {
        id: 'ankey',
        name: 'ankey',
        href: 'https://ankey.io/@koppepanorange',
        iframable:0,
        description: 'æ­Œè©ã¨ã‹è‰²ã€…ã§ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ãŒã§ãã‚‹ã‚µã‚¤ãƒˆ<br>æ¥½ã—ã„<br>å¥½ã'
        },
        },
        'sns':{
        'chatSite': {
        id: 'chatSite',
        name: 'chat-site',
        href: 'https://koppepan-orange.github.io/test-site/chat.html',
        iframable:1,
        description: 'äººã¨è©±ã›ã‚‹ã‚µã‚¤ãƒˆ<br>ãªã‚“Jã‚¹ã‚¿ã‚¤ãƒ«<br>ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰twitter2ãŒè¦‹ã‚Œã‚‹ã‚ˆ'
        },
        'reddit': {
        id: 'reddit',
        name: 'reddit',
        href: 'https://www.reddit.com/user/koppepan_orange/',
        iframable:0,
        description: 'å¤–å›½æ²ç¤ºæ¿å®šç•ªã®ã‚„ã¤<br>è‹±èªã—ã‹ãªã„<br>çµµã¯ã»ã¨ã‚“ã©è»¢è¼‰<br>ã¾ã‚å¸¸æ™‚å–§å˜©ã—ã¦ã‚‹twitterã‚ˆã‚Šã¯ãƒã‚·'
        },
        'github': {
        id: 'github',
        name: 'github',
        href: 'https://github.com/koppepan-orange',
        iframable:0,
        description: 'ã»ã‚“ã¨ã«ã„ã¤ã‚‚ã‚ã‚ŠãŒã¨ã­...<br>ã“ã®ã‚µã‚¤ãƒˆã‚‚ã‚ãªãŸã®ãŠã‹ã’ã§ã™'
        },
        'discord': {
        id: 'discord',
        name: 'discord',
        href: 'https://discord.com/channels/@me',
        iframable:0,
        description: 'ã„ã¤ã‚‚ã‚ã‚ŠãŒã¨ãªã€ã»ã‚“ã¨ã«<br>æ„Ÿè¬ã—ã¦ã‚‹ãœğŸ‘ğŸ»'
        },
        'chatWeb': {
        id: 'chatWeb',
        name: 'ãƒãƒ£ãƒƒãƒˆweb',
        href: 'https://chat.onl.jp/?koppepan23',
        iframable:0,
        description: 'ã¡ã‚ƒã‚“ã¨å–‹ã‚Œã‚‹ã„ã„ã‚µã‚¤ãƒˆ<br>ã‘ã©chat.htmlã®æ–¹ãŒè‰¯ã„'
        },
        'pixiv': {
        id: 'pixiv',
        name: 'pixiv',
        href: 'https://www.pixiv.net/users/93550041',
        iframable:0,
        description: 'çµµãŒè¦‹ã‚Œã‚‹ã‚µã‚¤ãƒˆ<br>twitterã‚ˆã‚Šã‚‚æ°‘åº¦ãŒè‰¯ã„<br>çµµå¸«ã•ã‚“ã®å·£çªŸ'
        },
        'twitch': {
        id: 'twitch',
        name: 'twitch',
        href: 'https://www.twitch.tv/koppepan_orange',
        iframable:0,
        description: 'é…ä¿¡ãŒè¦‹ã‚Œã‚‹ã‚µã‚¤ãƒˆ<br>ã„ã¤ã‹ã¯ã—ã¦ã¿ãŸã„ã­ã‡....'
        },
        'instagram': {
        id: 'instagram',
        name: 'instagram',
        href: 'https://www.instagram.com/koppepan_orange/',
        iframable:0,
        description: '2ç•ªç›®ã«å¥½ããªSNS<br>ã‘ã©æœ€è¿‘æŠ•ç¨¿ã§ãã¦ãªã„...'
        },
        'twitter': {
        id: 'twitter',
        name: 'twitter',
        href: 'https://twitter.com/koppepan_orange',
        iframable:0,
        description: 'æ—¥æœ¬ã§æœ€ã‚‚äººæ°—ãªSNS<br>è‰²ã‚“ãªç•ŒéšˆãŒå…¥ã‚Šæ··ã˜ã£ã¦ã¦è‰¯ã„ã‘ã©<br>æ°—æŠœã„ãŸã‚‰é–¢ä¿‚ãªã„ã‚„ã¤ã‚‰ãŒæµã‚Œè¾¼ã‚“ã§ãã‚‹ã®ãŒé›£ç‚¹<br>å¥½ãã ã‘ã©ã­'
        },
        'youtube': {
        id: 'youtube',
        name: 'youtube',
        href: 'https://www.youtube.com/channel/UCFvmwWDRrVqM22icC7QLx1w',
        iframable:0,
        description: 'è¨€ã‚ãšã‚‚ãŒãªã€œãªå‹•ç”»æŠ•ç¨¿ã‚µã‚¤ãƒˆ<br>ãŸã¾ãƒ¼ãƒ¼ãƒ¼ã«æŠ•ç¨¿ã—ã¦ã‚‹<br>ã®ã°ã¾ã‚“ã•ã‚“ã¯ãŠã™ã™ã‚'
        },
        'litLink': {
        id: 'litLink',
        name: 'lit.link',
        href: 'https://lit.link/koppepanorange',
        iframable:0,
        description: 'ç§ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã‚ã‚‹ã‚µã‚¤ãƒˆ<br>ã‘ã©å¤šåˆ†ã“ã®ã‚µã‚¤ãƒˆã ã‘ã§äº‹è¶³ã‚Šã‚‹'
        },
        'kiite': {
        id: 'kiite',
        name: 'kiite',
        href: 'https://kiite.jp/user/koppapan_orange',
        iframable:0,
        description: 'éŸ³æ¥½ãŒåºƒå‘Šãªã—ã§è¦‹ã‚Œã‚‹ã‚µã‚¤ãƒˆ<br>ãƒœã‚«ãƒ­ã®ã¿<br>ã‘ã©ãƒ‹ã‚³å‹•åŸºç›¤ã ã‹ã‚‰å­¦æ ¡ã§ã¯ç„¡ç†<br>ã‚¬ãƒƒãƒ‡ãƒ ..ã£ã¦ã‚„ã¤ï¼Ÿ<br>ãƒ™ã‚¢ã•ã‚“ã¨ã„ã‚ˆã‚ã•ã‚“ã¯ãŠã™ã™ã‚'
        },
        'magicalDraw': {
        id: 'magicalDraw',
        name: 'MagicalDraw',
        href: 'https://draw.kuku.lu/pchat.php?hash=898857247',
        iframable:0,
        description: 'ä¿—ã«ã„ã†"çµµãƒãƒ£"<br>å‹é”ã¨åˆä½œãŒã§ãã‚‹<br>æ¥½ã—ã„'
        },
        },
        'game':{
        'gameSite': {
        id: 'gameSite',
        name: 'game-site',
        href: 'https://koppepan-orange.github.io/game-site/welcome.html',
        iframable:1,
        description: 'ã‚²ãƒ¼ãƒ ãŒã§ãã‚‹ã‚µã‚¤ãƒˆ<br>ã¾ã˜ã§æ¥½ã—ã„<br>clicker-of-mugenã¯ãŠã™ã™ã‚<br>cardã¯æœªå®Œæˆã ã‘ã©çµµè¦‹ã¦æ¬²ã—ã„'
        },
        'musicSite': {
        id: 'musicSite',
        name: 'music-site',
        href: 'https://koppepan-orange.github.io/test-site/music-site.html',
        iframable:1,
        description: 'å…¨ç„¶ã§ãã¦ãªã„<br>kiite-cafeã¿ãŸã„ãªã‚µã‚¤ãƒˆä½œã‚ã†ã¨ã—ãŸã‚“ã ã‘ã©ã‚€ãšã„'
        },
        'cybercode': {
        id: 'cybercode',
        name: 'cybercodeonline',
        href: 'https://cybercodeonline.com',
        iframable:0,
        description: 'ç¡¬æ´¾ã§å¤ãè‰¯ãMMORPG<br>ã¾ã˜ã§æ¥½ã—ã„..ã„ã‚„äººã«ã‚ˆã‚‹ã‹ã‚‚<br>AFKãŒå……å®Ÿã—ã¦ã¦å¥½ã'
        },
        'browserGame': {
        id: 'browserGame',
        name: 'browsergame',
        href: 'https://sdin.jp/browser/',
        iframable:0,
        description: 'è‰²ã‚“ãªã‚²ãƒ¼ãƒ ã§éŠã¹ã‚‹ã‚µã‚¤ãƒˆ<br>ã‚«ã‚¸ãƒç³»åˆ—ã‚‚ã‚ã‚‹ã‚ˆ<br>ç¢ºã‹ãƒ–ãƒ­ãƒƒã‚¯è²«é€š'
        },
        'arealMe': {
        id: 'arealMe',
        name: 'ARealMe',
        href: 'https://www.arealme.com/',
        iframable:0,
        description: 'è‰²ã‚“ãªãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚µã‚¤ãƒˆ<br>ã‚¯ãƒªãƒƒã‚¯é€Ÿåº¦ã¨ã‹åå°„ç¥çµŒã¨ã‹'
        },
        'unityroom': {
        id: 'unityroom',
        name: 'unityroom',
        href: 'https://unityroom.com/new_arrivals',
        iframable:0,
        description: 'è‰²ã‚“ãªäººã®ä½œã£ãŸã‚²ãƒ¼ãƒ ã§éŠã¹ã‚‹ã‚µã‚¤ãƒˆ<br>"ã‚†ã‚ãã‚ƒã‚"ã¿ãŸã„ãªã‚„ã¤ã¯ãŠã™ã™ã‚'
        }
        },
        };
        let iframenow = 0;
        Object.keys(Links).forEach(type => {
        const details = document.createElement('details');
        const summary = document.createElement('summary');
        summary.textContent = type;
        details.appendChild(summary);
        details.id = type;
        document.getElementById('links').appendChild(details);

        Object.keys(Links[type]).forEach(key => {
        const link = Links[type][key];
        const a = document.createElement('a');
        a.href = link.href;
        a.textContent = link.name;
        a.id = link.id;
        a.className = 'hasd';
        a.target = '_blank';
        a.setAttribute('data-description', link.description);

        if(link.iframable == 1){
        a.addEventListener('contextmenu', (event) => {
        event.preventDefault();
        if(iframenow == 0){
        iframenow = 1;//ãªãœã‹åå¿œã—ã¦ãªã„ã€‚Links['memos']ã®å½¢ã«ã™ã‚‹ã¹ãï¼Ÿ
        const iframe = document.getElementById('iframe');
        iframe.style.display = 'block';
        iframe.src = link.href;
        }else{
        iframenow = 0;
        const iframe = document.getElementById('iframe');
        iframe.style.display = 'none';
        }
        })
        }
        document.getElementById(type).appendChild(a);
        document.getElementById(type).appendChild(document.createElement('br'));
        });
        document.getElementById(type).appendChild(document.createElement('br'));
        })
        //#endregion
        //#region sideMenu
        const menuToggle = document.getElementById('menuToggle');
        const sideMenu = document.getElementById('sideMenu');
        menuToggle.addEventListener('click', () => {
            if(sideMenu.style.left === '0px'){
                sideMenu.style.left = '-255px';
            }else{
                sideMenu.style.left = '0px';
            }
        });


        let cpopup = document.getElementById('cpopup');
        let cpopupNow = 0;
        document.querySelectorAll('.hastxt').forEach((element) => {
            addEventListener('click', (event) => {
                element.addEventListener('click', (event) => {
                    if(cpopupNow == 0){
                        let name = event.target.getAttribute('data-name');
                        console.log(name+'ãŒç™ºå‹•ã—ã¾ã—ãŸãœã‡ã„')
                        fetch(`assets/txts/${name}.txt`)
                        .then(response => response.text())
                        .then(data => {cpopup.innerText = data;})
                        .catch(error => console.error('Error:', error));
                        cpopup.style.display = 'block';
                        cpopupNow = 1;
                    }else{
                        cpopup.innerHTML = '';
                        cpopup.style.display = 'none';
                        cpopupNow = 0;
                    }
                })
            })
        })

        //change-font
        function changeFont(){
        document.getElementById('body').style.fontFamily = document.getElementById('font-select').value;
        // if(document.getElementById('font-select').value == 'Hangyaku'){
        //     document.getElementById('body').style.fontSize = '23px';
        // }else{
        //     document.getElementById('body').style.fontSize = '17px';
        // }
        if(document.getElementById('font-select').value == 'wingdings'){
        document.getElementById('wdtextarea').style.fontFamily = 'wingdings, kaimetsu';

        }
        }

        //toggle
        document.querySelectorAll('.toggles').forEach((element) => {
            element.addEventListener('change', (event) => {
                if(event.target.checked){
                    document.getElementById(event.target.getAttribute('data-name')).style.display = 'block';
                }else{
                    document.getElementById(event.target.getAttribute('data-name')).style.display = 'none';
                }
            })
        })

        //#endregion
        //#region wingdingsç‰¹æ®Šæ©Ÿæ§‹ã®ãŠè©±
        let wdnow = 0;
        document.getElementById('wdcheck').addEventListener('click', () => {
        if(wdnow == 0){
        wdnow = 1;
        document.querySelectorAll('.wd').forEach(element => {
        element.style.display = 'inline';
        })
        }else{
        wdnow = 0;
        document.querySelectorAll('.wd').forEach(element => {
        element.style.display = 'none';
        })
        }
        })
        //#endregion
        //#region iframeã®ãŠè©±
        let Iframes = {
            'bing':{
                id:'bing',
                name:'bing.com',
                src:'https://www.bing.com/search?q=%e6%86%b6%e8%89%af%e3%82%89%e3%81%af%e4%bb%8a%e3%81%af%e7%bd%b7%e3%82%89%e3%82%80%e5%ad%90%e6%b3%a3%e3%81%8f%e3%82%89%e3%82%80%e3%81%9d%e3%82%8c%e3%81%9d%e3%81%ae%e6%af%8d%e3%82%82%e6%88%91%e3%82%92%e5%be%85%e3%81%a4%e3%82%89%e3%82%80%e3%81%9d&qs=RQ&pq=%e6%86%b6%e8%89%af%e3%82%89%e3%81%af%e4%bb%8a%e3%81%af%e7%bd%b7%e3%82%89%e3%82%80%e5%ad%90%e6%b3%a3%e3%81%8f%e3%82%89%e3%82%80%e3%81%9d%e3%82%8c%e3%81%9d%e3%81%ae&sc=4-18&cvid=BDF68943856B40AC93BF5E6E4207F06D&FORM=QBRE&sp=1&ghc=1&lq=0',
            },
            'bing_trans':{
                id:'bing_trans',
                name:'bing-trans',
                src:'https://www.bing.com/translator?from=&to=ja&setlang=ja',
            },
            'deepAI':{
                id:'deepAI',
                name:'deep.ai',
                src:'https://deepai.org/chat',
            },
            
        }
        let NowLinkframe = 1;
        function LinkframeGo(){
            document.getElementById(`Linkframe${NowLinkframe}`).setAttribute('data-src', document.getElementById("LinkInput").value);
            document.getElementById(`Linkframe${NowLinkframe}`).src = document.getElementById("LinkInput").value;
            NicoNicoText('ã†ã‡ã„ã¨ãµã‰ã‚ãªã€œã†'); //å¥½ããªè¨€è‘‰ãƒ©ãƒ³ã‚­ãƒ³ã‚°ä¸Šä½"wait for now"
        }
        document.getElementById('LinkSelect').addEventListener('change', event =>{
            let Link = `Linkframe${event.target.value}`;

            document.getElementById('Linkframe1').style.display = 'none';
            document.getElementById('Linkframe2').style.display = 'none';
            document.getElementById('Linkframe3').style.display = 'none';
            document.getElementById('Linkframe4').style.display = 'none';

            document.getElementById(Link).style.display = 'block';

            document.getElementById('LinkInput').value = document.getElementById(`Linkframe${event.target.value}`).getAttribute('data-src');
        })
        //#endregion
        //#region DOMContentLoaded -- memos, iframes
        let numberOfMemo = 4;
        document.addEventListener('DOMContentLoaded', () => {
            
            numberOfMemo = +getLocalStorage("numberOfMemo")??4;
            console.log(`ãƒ¡ãƒ¢ã®æ•°ã¯${numberOfMemo}å€‹ã‚„ã§`);
            for(let i = 1; i <= numberOfMemo; i++){
                let memo = getLocalStorage(`memo${i}`);
                let memoElement = memoCreate(memo, i);
                document.getElementById('memos').appendChild(memoElement);
            }
            let memoAdd = memoAddCreate();
            document.getElementById('memos').appendChild(memoAdd);


            const iframes = getLocalStorage("iframes")??['bing', 'bing_trans', 'deepAI'];
            iframes.forEach(iframe => {
                const details = document.createElement("details");

                const summary = document.createElement("summary");
                summary.textContent = Iframes[iframe].name;

                const button = document.createElement("button");
                button.className = "iframe-button";
                button.dataset.id = `Iframe-${iframe}`;
                button.textContent = "full";

                const br = document.createElement("br");

                const iframeElement = document.createElement("iframe");
                iframeElement.dataset.id = `Iframe-${iframe}`;
                iframeElement.className = "iframe-frame";
                iframeElement.src = Iframes[iframe].src;

                details.appendChild(summary);
                details.appendChild(button);
                details.appendChild(br);
                details.appendChild(iframeElement);

                document.getElementById("iframes").appendChild(details); // è¿½åŠ ã—ãŸã„è¦ç´ ã«å¤‰æ›´ã—ã¦
            })


            autoLogin();
        });

        function memoCreate(memo,i){
            let memoElement = document.createElement('div');
            memoElement.className = 'memo';
            memoElement.id = `memo${i}`;
            memoElement.setAttribute('data-num', i);

            let title = document.createElement('div');
            title.className = 'm-title';
            title.innerText = `memo${i}`;
            title.setAttribute('contenteditable', 'true');
            memoElement.appendChild(title);

            let text = document.createElement('div');
            text.className = 'm-text';
            text.innerText = memo??'';
            text.setAttribute('contenteditable', 'true');
            memoElement.appendChild(text);

            let deleteButton = document.createElement('div');
            deleteButton.className = 'm-delete';
            deleteButton.innerText = 'M';
            deleteButton.addEventListener('click', () => {
                localStorage.removeItem(`memo${i}`);
                memoElement.remove();

                document.querySelectorAll('.memo').forEach(memo => {
                    let memoNum = +memo.getAttribute('data-num')
                    if(memoNum > i){
                        memo.setAttribute('data-num', memoNum - 1);
                        memo.querySelector('.m-title').innerText = `memo${memoNum-1}`;
                        memo.querySelector('.m-text').innerText = getLocalStorage(`memo${memoNum}`);
                        setLocalStorage(`memo${memoNum-1}`, getLocalStorage(`memo${memoNum}`));
                    }
                });
                
                numberOfMemo = +numberOfMemo - 1;
                setLocalStorage("numberOfMemo", +numberOfMemo);
            });
            memoElement.appendChild(deleteButton);

            memoElement.addEventListener('input', ele => {
                setLocalStorage(`memo${i}`, document.getElementById(`memo${i}`).querySelector('.m-text').innerText);
            });

            return memoElement;
        }
        function memoAddCreate(){
            const memoAdd = document.createElement('div');
            memoAdd.className = 'm-add';
            memoAdd.id = 'memoAdd';
            memoAdd.innerText = '+';
            memoAdd.addEventListener('click', () => {
                memoAdd.remove();
                numberOfMemo = +numberOfMemo + 1;
                setLocalStorage("numberOfMemo", +numberOfMemo);
                let memoElement = memoCreate('', numberOfMemo);
                document.getElementById('memos').appendChild(memoElement);  
                let memoAdd2 = memoAddCreate();
                document.getElementById('memos').appendChild(memoAdd2);
            })
            return memoAdd;
        }
        //#endregion    


        //#region firebaseã®ã„ã–ã“ã–
        const firebaseConfig = {
            apiKey: "AIzaSyBN5V_E6PzwlJn7IwVsluKIWNIyathhxj0",
            authDomain: "k  oppepan-orange.firebaseapp.com",
            databaseURL: "https://koppepan-orange-default-rtdb.firebaseio.com",
            projectId: "koppepan-orange",
            storageBucket: "koppepan-orange.appspot.com",
            messagingSenderId: "730150198097",
            appId: "1:730150198097:web:076a074a3d406053155170",
            measurementId: "G-MYKJWD203Z"
        };
        firebase.initializeApp(firebaseConfig);
        var database = firebase.database();
        let username = 'no name';
        let usersRef = null;

        //#endregion
        //#region ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿæ§‹
        document.getElementById('login-button').addEventListener('click', () => {
            if(document.getElementById('login').style.opacity == 0){
                document.getElementById('login').style.opacity = 1;
            }else{
                document.getElementById('login').style.opacity = 0;
            }
        })
        function login(){
            document.getElementById('login').style.display = 'none';
            document.getElementById('login-button').style.display = 'none';
            document.getElementById('expbar').style.display = 'block';

            // document.getElementById('tabs').style.display = 'flex';
            // searchTab.click();
            // nowtab = 'Search';

            usersRef = database.ref('users/'+username);

            usersRef.once('value', function(snapshot){
                if(snapshot.exists()){
                    const userData = snapshot.val();
                    level = userData.level??1;
                    exp = userData.exp??0;
                    maxexp = exp*level+50;
                    updateUI();
                }
            })
        }

        document.getElementById('login-login').addEventListener('click', () => {
            username = document.getElementById('username').value;
            let password = document.getElementById('password').value;

            let kariusersRef = database.ref(`users/${username}`);
            kariusersRef.once('value', function(snapshot){
                if(snapshot.exists()){
                    if(snapshot.val().password == password){
                        setLocalStorage("username", username)
                        login();
                    }
                }else{
                    let usersRef = database.ref(`users/${username}`);
                    usersRef.update({
                        password:password,
                        banned: 0,
                        blocked: [],
                    })
                    NicoNicoText('ã‚ˆã†ã“ã');
                    setLocalStorage("username", username)
                    login();
                }
            })
        })

        function autoLogin(){
            username = getLocalStorage("username");
            if(username){
                console.log("è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ãŸ");
                login();
            }else{
                console.log("ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„");
            }
        }
        //#endregion
        //#region expã¨ã‹
        let exp = 0;
        let level = 1;
        let maxexp = 50;
        let expbar = document.getElementById('exp');
        let exptext = document.getElementById('exptext');
        function updateUI(){
            if(exp >= maxexp){
                exp -= maxexp;
                level += 1;
                maxexp += 25;
            }
            expbar.style.width = `${exp/maxexp*100}%`;
            exptext.innerText = `${exp}/${maxexp}`
            document.getElementById('Username').textContent = username;
            document.getElementById('Level').textContent = `Lv:${level}`;
        }
        //#endregion
    </script>
</body>
</html>
